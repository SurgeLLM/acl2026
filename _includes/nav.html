{% assign nav_items = workshop.navigation | default: site.data.navigation %}
<nav class="nav" aria-label="Primary">
  <button class="nav__toggle" type="button" data-nav-toggle aria-controls="nav-menu" aria-expanded="false">
    <span class="nav__toggle-label">Menu</span>
  </button>

  <ul id="nav-menu" class="nav__menu" data-nav-menu>
    {% for item in nav_items %}
      {% assign item_url = item.url | relative_url %}
      {% assign is_current = false %}
      {% if page.url == item.url %}
        {% assign is_current = true %}
      {% endif %}
      <li class="nav__item">
        <a class="nav__link{% if is_current %} nav__link--current{% endif %}" href="{{ item_url }}"{% if is_current %} aria-current="page"{% endif %}>
          {{ item.label }}
        </a>
      </li>
    {% endfor %}
    <li class="nav__item nav__item--search">
      <button class="nav__search" type="button" data-search-open aria-haspopup="dialog" aria-controls="search-modal">
        Search
      </button>
    </li>
  </ul>

  <div id="search-modal" class="modal" data-search-modal aria-hidden="true" role="dialog" aria-modal="true" aria-label="Search">
    <div class="modal__overlay" data-search-close></div>
    <div class="modal__panel">
      <div class="modal__header">
        <h2 class="modal__title">Search</h2>
        <button class="modal__close" type="button" data-search-close aria-label="Close search">×</button>
      </div>
      <label class="sr-only" for="search-input">Search query</label>
      <input id="search-input" class="modal__input" type="search" inputmode="search" placeholder="Search this site…" autocomplete="off" data-search-input>
      <div class="modal__hint">Tip: try “dates”, “OpenReview”, or a speaker name. Shortcut: <kbd>/</kbd> or <kbd>Ctrl</kbd>+<kbd>K</kbd>.</div>
      <div class="modal__results" data-search-results></div>
      <div class="modal__footer">
        <a class="modal__all" href="{{ workshop.site.base_path | default: '/' | relative_url }}">Go to home</a>
      </div>
    </div>
  </div>
</nav>
